**UIn Class team Exercise – Business Rules and ER Diagrams**

Use the following descriptions of the operations of RC\_ Models Company to complete this exercise. RC\_ Models Company sells its products— plastic models (aircraft, ships, and cars) and “add- on” decals for those models— through its Internet Web site, www. Rc_models. com. Models and decals are available in scales that vary from 1/ 144 to 1/ 32\.

Customers use the Web site to select the products and to pay by credit card. If a product is not currently available, it is placed on back order at the customer’s discretion. (Back orders are not charged to a customer until the order is shipped.) When a customer completes a transaction, the invoice is printed and the products listed on the invoice are pulled from inventory for shipment. (The invoice includes a shipping charge.) The printed invoice is enclosed in the shipping container. The customer credit card charges are transmitted to the CC Bank, at which RC\_ Models Company maintains a commercial account. (Note: The CC Bank is not part of the RC\_ Models database.)

RC\_ Models Company tracks customer purchases and periodically sends out promotional materials. Because the management at RC\_ Models Company requires detailed information to conduct its operations, numerous reports are available. Those reports include, but are not limited to, customer purchases by product category and amount, product turnover, and revenues by product and customer. If a product has not recorded a sale within four weeks of being stocked, it is removed from inventory and scrapped.

Many of the customers on the RC\_ Models customer list have bought RC\_ Models products. However, RC\_ Models Company also has purchased a copy of the FineScale Modeler magazine subscription list to use in marketing its products to customers who have not yet bought from RC\_ Models Company. In addition, customer data are recorded when potential customers request product information.

RC\_ Models Company orders its products directly from the manufacturers. For example, the plastic models are ordered from Tamiya, Academy, Revell/ Monogram, and others. Decals are ordered from Aeromaster, Tauro, WaterMark, and others. ( Note: Not all manufacturers in the RC\_ Models Company database have received orders.) All orders are placed via the manufacturers’ Web sites, and the order amounts are automatically handled through RC\_ Models’ commercial bank account with the CC Bank. Orders are automatically placed when product inventory reaches the specified minimum quantity on hand. (The number of product units ordered depends on the minimum order quantity specified for each product.)

1\) Given that brief and incomplete description of operations for RC\_ Models Company, write entities, attributes and all applicable business rules to establish relationships. Write the Entities/attributes in the format below.  
Customer (Cust_Id,Cust_Name ……..) Do not spend too much time on attributes now.

2\) Write Business Rules for the relationships : Use the following three business rules as examples, writing the business rules for relationships in the same format. Requirements/rules that don’t specific entities, attributes, relationships, constraints should be written separately.  
a) A customer may generate many invoices.  
b) Each invoice is generated by only one customer.  
c) Some customers have not (yet) generated an invoice.

     One customer can have multiple products.
     One customer can have multiple invoices.

      3\) Document any assumptions you need to make in a section called assumptions

4\) Create a draft ER model in [https://www.drawio.com/](https://www.drawio.com/) . Dont worry about filling in all attributes. Just entities and relationships. This is a draft, you will work on it

5\) submit one document PDF (business rules) and one ER model from Draw.io, Individually.

Submit at [https://canvas.illinois.edu/courses/60366/assignments/1440586](https://canvas.illinois.edu/courses/60366/assignments/1440586)

1\. Customer

customer_id (PK)  
\* name  
\* email  
\* status

Relationships:

1 Customer → N Invoices

\---

2\. Invoice

invoice_id (PK)  
\* invoice_date  
\* total_amount  
\* customer_id (FK)

Relationships:

\* N Invoices ← 1 Customer  
\* 1 Invoice → N InvoiceLines  
\* 1 Invoice → N Shipments

3\. InvoiceLine

\*invoice_id (PK, FK)  
\* \*line_no (PK)\*  
\* product_id (FK)  
\* quantity

\*Relationships:\*

\* N InvoiceLines ← 1 Invoice  
\* 1 InvoiceLine → N Shipments

\---

\*4. Shipment\*

\* \*shipment_id (PK)\*  
\* ship_date  
\* status  
\* invoice_id (FK)

\*Relationships:\*

\* N Shipments ← 1 Invoice  
\* N Shipments → 1 PurchaseOrder

\---

\*5. PurchaseOrder\*

\* \*po_id (PK)\*  
\* order_date  
\* status  
\* manufacturer_id (FK)

\*Relationships:\*

\* 1 PurchaseOrder ← N Shipments  
\* N PurchaseOrders ← 1 Manufacturer

\---

\*6. Manufacturer\*

\* \*manufacturer_id (PK)\*  
\* name  
\* website  
\* phone

\*Relationships:\*

\* 1 Manufacturer → N PurchaseOrders

---

## Improved Data Model (v2) — RC_Models Company

To address backorders, partial shipments, purchasing/receiving, inventory control, and invoicing at ship time, the schema is refined below. A full Crow's Foot ERD is provided in `RC_Models.erd` at the repo root.

### Entities (concise attributes)

- Customer (customer_id PK, name, email, phone, status, created_at, source)
- Address (address_id PK, customer_id FK, type, line1, line2, city, state, postal_code, country)
- Manufacturer (manufacturer_id PK, name, website, phone)
- Product (product_id PK, sku, name, category, scale, msrp, current_price, status, min_qty_on_hand, reorder_qty, first_stocked_at, manufacturer_id FK)
- SalesOrder (order_id PK, order_date, status, payment_status, shipping_charge, customer_id FK, billing_address_id FK, shipping_address_id FK)
- SalesOrderLine (order_id PK/FK, line_no PK, product_id FK, quantity, unit_price, backorder_allowed, backordered_qty)
- Shipment (shipment_id PK, ship_date, status, carrier, tracking_number, order_id FK)
- ShipmentLine (shipment_id PK/FK, line_no PK, product_id FK, order_id FK, order_line_no, quantity_shipped)
- Invoice (invoice_id PK, invoice_date, total_amount, shipping_charge, order_id FK, shipment_id FK, customer_id FK)
- InvoiceLine (invoice_id PK/FK, line_no PK, product_id FK, quantity, unit_price)
- Payment (payment_id PK, payment_date, amount, status, method, auth_code, invoice_id FK)
- PurchaseOrder (po_id PK, order_date, status, manufacturer_id FK)
- PurchaseOrderLine (po_id PK/FK, line_no PK, product_id FK, quantity_ordered, unit_cost)
- Receipt (receipt_id PK, receive_date, status, po_id FK)
- ReceiptLine (receipt_id PK/FK, line_no PK, product_id FK, quantity_received, unit_cost, po_line_no)
- InventoryTransaction (txn_id PK, txn_date, txn_type, quantity, product_id FK, reference_type, reference_id)

Notes:

- Lines are identified by (header_id, line_no) and treated as weak entities conceptually.
- CC Bank is external and not modeled.

### Business Rules (relationships and constraints)

Sales and Customers

- A customer may place many sales orders; each sales order is placed by exactly one customer. (1 Customer → N SalesOrders)
- Each sales order must have one or more sales order lines; each line belongs to exactly one sales order. (1 SalesOrder → N SalesOrderLines)
- A product can appear on many sales order lines; each line references exactly one product. (1 Product ← N SalesOrderLines)
- A sales order can have zero or more shipments; each shipment ships items for exactly one sales order. (1 SalesOrder ← N Shipments)
- Each shipment must have one or more shipment lines; each shipment line belongs to exactly one shipment. (1 Shipment → N ShipmentLines)
- Each shipment line references exactly one sales order line; a sales order line may be split across many shipment lines (partial shipments). (1 SalesOrderLine ← N ShipmentLines)
- An invoice is generated per shipment and enclosed in the shipping container; a shipment has at most one invoice; an invoice refers to exactly one shipment. (1 Shipment ↔ 0..1 Invoice)
- Each invoice must have one or more invoice lines; each invoice line belongs to exactly one invoice and is derived from shipment lines. (1 Invoice → N InvoiceLines; 1 ShipmentLine ← N InvoiceLines)
- An invoice may have zero or more payments; each payment applies to exactly one invoice. (1 Invoice → 0..N Payments)

Products and Manufacturers

- Each product is supplied by exactly one manufacturer; a manufacturer supplies many products. (1 Manufacturer ← N Products)
- Each product stores reorder controls: min_qty_on_hand and reorder_qty.

Purchasing and Receiving

- A purchase order is issued to exactly one manufacturer; a manufacturer may have many purchase orders. (1 Manufacturer ← N PurchaseOrders)
- Each purchase order must have one or more purchase order lines; each PO line belongs to exactly one purchase order. (1 PurchaseOrder → N PurchaseOrderLines)
- A purchase order may be received in zero or more receipts (partial receipts allowed); each receipt belongs to exactly one purchase order. (1 PurchaseOrder ← 0..N Receipts)
- Each receipt must have one or more receipt lines; each receipt line belongs to exactly one receipt and references exactly one purchase order line. (1 Receipt → N ReceiptLines; 1 PurchaseOrderLine ← N ReceiptLines)

Inventory Control and Policies

- All quantity movements for a product are recorded as inventory transactions (purchase_receipt, sale_shipment, scrap, adjustment, return). (1 Product → 0..N InventoryTransactions)
- Reorder events are triggered when on-hand quantity is at or below min_qty_on_hand; typical reorder quantity is reorder_qty.
- If a product has no sale within four weeks of being stocked, it is removed and scrapped; scrapping is recorded as an inventory transaction of type 'scrap'.
- Backorders occur when line quantity exceeds available inventory and backorder_allowed = true; those quantities are shipped later via additional shipments and invoiced upon shipment.

Addresses

- A customer may have zero or more addresses; each address belongs to exactly one customer. (1 Customer → 0..N Addresses)
- Sales orders store the selected billing and shipping address at time of order.

External Systems

- Credit card processing occurs via CC Bank and is not part of the RC_Models database; only payment metadata (auth_code, status) are stored.

### Assumptions

- Invoices are generated per shipment (common in commerce) to align with "invoice printed and enclosed in the shipping container"; consolidated invoicing could be supported by allowing one invoice to reference multiple shipments, but is out of scope.
- Payments are captured at shipment time (status transitions from authorized → captured).
- Pricing on lines (unit_price) is copied at order time to preserve historical pricing.
- Email uniqueness for customers is enforced at the application/database constraint level (conceptual uniqueness not shown in ERD syntax).
- Scale values are stored as text (e.g., "1/144"); a lookup table could be added if needed.

### Deliverables

- See `RC_Models.erd` for the full Crow's Foot ERD reflecting the above business rules and entities.
